import React, { useEffect, useRef, useState } from 'react';
import { Briefcase, Award, Mail, Phone, Linkedin, Link, BookOpen, Clock, GraduationCap } from 'lucide-react';

// Custom hook to handle fade-in-on-scroll animation using IntersectionObserver
const useFadeIn = (options) => {
  const [isVisible, setIsVisible] = useState(false);
  const ref = useRef(null);

  useEffect(() => {
    const observer = new IntersectionObserver(([entry]) => {
      if (entry.isIntersecting) {
        setIsVisible(true);
        observer.unobserve(entry.target);
      }
    }, options);

    if (ref.current) {
      observer.observe(ref.current);
    }

    return () => {
      if (ref.current) {
        observer.unobserve(ref.current);
      }
    };
  }, [ref, options]);

  return [ref, isVisible];
};

// Component to wrap elements that should fade in on scroll
const FadeInOnScroll = ({ children, className }) => {
  const [ref, isVisible] = useFadeIn({ threshold: 0.1 });
  return (
    <div
      ref={ref}
      className={`${className} ${isVisible ? 'fade-in' : 'fade-out'}`}
    >
      {children}
    </div>
  );
};

// Main App component
export default function App() {
  const sections = [
    { id: 'about', title: 'About' },
    { id: 'education', title: 'Education' },
    { id: 'experience', title: 'Experience' },
    { id: 'projects', title: 'Projects' },
    { id: 'achievements', title: 'Achievements' },
    { id: 'contact', title: 'Contact' },
  ];

  return (
    <div>
      {/* Header and Navigation */}
      <header>
        <h1>Wafa Navas</h1>
        <nav>
          {sections.map((section) => (
            <a key={section.id} href={`#${section.id}`}>
              {section.title}
            </a>
          ))}
        </nav>
        <a href="#contact">Get in Touch</a>
      </header>

      {/* Hero Section */}
      <section id="hero">
        <h2>Hello, I'm Wafa Navas</h2>
        <p>Innovating the future of food, one purposeful product at a time.</p>
        <a href="#contact">Get in Touch</a>
        <a href="/Wafa Navas Resume.pdf" download>
          Download Resume
        </a>
      </section>

      {/* About Section */}
      <FadeInOnScroll className="section" id="about">
        <h2>About Me</h2>
        <p>
          I am a First Rank graduate in B.Tech Food Technology from Verghese Kurien Institute of Dairy and Food Technology, deeply passionate about New Product Development and Research...
        </p>
      </FadeInOnScroll>

      {/* Education Section */}
      <FadeInOnScroll className="section" id="education">
        <h2>Education</h2>
        <h3>B.Tech Food Technology</h3>
        <p>Verghese Kurien Institute of Dairy and Food Technology</p>
        <p>2021 – 2025</p>
      </FadeInOnScroll>

      {/* Experience Section */}
      <FadeInOnScroll className="section" id="experience">
        <h2>Experience</h2>
        <h3>Intern – New Product Development & Research</h3>
        <p>Synthite Industries, Oct 2024 – Mar 2025</p>
        <ul>
          <li>Contributed to over 20 formulation trials for vegan proteins, brown flavor development, and shelf-life testing using Rancimat and Oxitest.</li>
          <li>Collaborated across QA and R&D for pilot trials while following ISO 22000 and HACCP standards.</li>
        </ul>
      </FadeInOnScroll>

      {/* Projects Section */}
      <FadeInOnScroll className="section" id="projects">
        <h2>Projects</h2>
        <div>
          <h3>Frozen Dessert from Hemp Milk</h3>
          <p>This project involved developing a dairy-free frozen dessert using hemp milk as the primary base—targeting vegan and lactose-intolerant consumers.</p>
        </div>
        <div>
          <h3>Credit Seminar: Oleogels as Fat Replacers</h3>
          <p>My seminar explored the use of oleogels—structured vegetable oil systems—as healthier replacements for saturated animal fats in processed meat products.</p>
        </div>
      </FadeInOnScroll>

      {/* Achievements Section */}
      <FadeInOnScroll className="section" id="achievements">
        <h2>Achievements</h2>
        <ul>
          <li>1st Prize – AMUL Case Study Competition (2023)</li>
          <li>1st Prize – English Essay, Synthite Industries (2024)</li>
          <li>Champion – Versification &amp; Mime, KVASU (2023)</li>
        </ul>
      </FadeInOnScroll>

      {/* Contact Section */}
      <FadeInOnScroll className="section" id="contact">
        <h2>Get in Touch</h2>
        <p>I am always open to discussing new opportunities, collaborations, and innovative ideas. Feel free to reach out!</p>
        <p>Email: wafa17.002@gmail.com</p>
        <p>Phone: +91 8078754589</p>
        <a href="https://www.linkedin.com/in/wafa-navas" target="_blank" rel="noreferrer">
          LinkedIn
        </a>
      </FadeInOnScroll>

      {/* Footer */}
      <footer>
        <p>© 2025 Wafa Navas. All rights reserved.</p>
        <p>Designed with care and purpose</p>
      </footer>
    </div>
  );
}
